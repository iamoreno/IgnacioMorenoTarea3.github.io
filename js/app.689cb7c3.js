(function(t){function a(a){for(var c,s,r=a[0],i=a[1],d=a[2],u=0,v=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);l&&l(a);while(v.length)v.shift()();return o.push.apply(o,d||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],c=!0,r=1;r<e.length;r++){var i=e[r];0!==n[i]&&(c=!1)}c&&(o.splice(a--,1),t=s(s.s=e[0]))}return t}var c={},n={app:0},o=[];function s(a){if(c[a])return c[a].exports;var e=c[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=c,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var c in t)s.d(e,c,function(a){return t[a]}.bind(null,c));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=a,r=r.slice();for(var d=0;d<r.length;d++)a(r[d]);var l=i;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var c=e("85ec"),n=e.n(c);n.a},1:function(t,a){},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var c=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("Head"),e("Exchange"),e("Stock")],1)},o=[],s=e("5530"),r=e("2f62"),i=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"display-4 bg"},[t._v("YourTradingSite")])])}],l={name:"Head",computed:Object(s["a"])({},Object(r["c"])(["conectado","dataEx"])),methods:Object(s["a"])({},Object(r["b"])(["conectar"]))},u=l,v=e("2877"),p=Object(v["a"])(u,i,d,!1,null,null,null),f=p.exports,m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"fixed-top"},[e("nav",{staticClass:"navbar navbar-dark bg-dark"},[e("a",{staticClass:"navbar-brand"},[t._v("Tarea 3 Taller de Integración")]),e("button",{staticClass:"btn btn-success my-2 my-sm-0",on:{click:function(a){return t.conectar()}}},[t._v(t._s(t.conectado))])])])},_=[],b={name:"Navbar",computed:Object(s["a"])({},Object(r["c"])(["conectado","dataEx"])),methods:Object(s["a"])({},Object(r["b"])(["conectar"]))},h=b,x=Object(v["a"])(h,m,_,!1,null,null,null),k=x.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("p",{staticClass:"h2"},[t._v("Exchanges")]),e("div",{staticClass:"row flex-nowrap d-flex justify-content-around"},t._l(t.ex,(function(a){return e("div",{key:a,staticClass:"card text-white bg-dark mb-3",staticStyle:{"max-width":"18rem"}},[e("div",{staticClass:"card-header"},[t._v(t._s(a))]),e("div",{staticClass:"card-body"},[e("p",{staticClass:"card-text"},[t._v("Participación de Mercado: "+t._s(t.dataEx[a]["porcentaje"])+"%")]),e("p",{staticClass:"card-text"},[t._v("Volumen Compra: "+t._s(t.dataEx[a]["v_compra"]))]),e("p",{staticClass:"card-text"},[t._v("Volumen Venta: "+t._s(t.dataEx[a]["v_venta"]))]),e("p",{staticClass:"card-text"},[t._v("Total transado: "+t._s(t.dataEx[a]["v_total"]))]),e("p",{staticClass:"card-text"},[t._v("Cantidad de empresas: "+t._s(t.dataEx[a]["companies"].length))])])])})),0)])},j=[],y={name:"Exchange",computed:Object(s["a"])({},Object(r["c"])(["conectado","dataEx","dataStocks","ex","stocks"])),methods:Object(s["a"])({},Object(r["b"])(["Conectar"]))},O=y,S=Object(v["a"])(O,E,j,!1,null,null,null),g=S.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("p",{staticClass:"h2"},[t._v("Stocks")]),e("div",{staticClass:"row row-cols-1 row-cols-md-3"},t._l(t.stocks,(function(a){return e("div",{key:a,staticClass:"col mb-4"},[e("div",{staticClass:"card h-100 text-white bg-dark"},[e("Chart",{staticClass:"card-img-top",attrs:{st:a}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.dataStocks[a]["company"]))]),e("p",{staticClass:"card-text"},[t._v("Highest Value: "+t._s(t.dataStocks[a]["v_alto"]))]),e("p",{staticClass:"card-text"},[t._v("Lowest Value: "+t._s(t.dataStocks[a]["v_bajo"]))]),e("p",{staticClass:"card-text"},[t._v("Actual Price: "+t._s(t.dataStocks[a]["v_actual"]))]),e("p",{staticClass:"card-text"},[t._v("Variación: "+t._s(t.dataStocks[a]["variacion"])+"%")])])],1)])})),0)])},w=[],P=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h2",[t._v(t._s(this.st))]),e("div",{staticClass:"chart",attrs:{id:t.st}})])},T=[],U=(e("4160"),e("d3b7"),e("6062"),e("3ca3"),e("159b"),e("ddb0"),e("8192")),B={name:"Chart",components:{},props:["st"],data:function(){return{inserted:new Set}},created:function(){},computed:Object(s["a"])({},Object(r["c"])(["dataUpdate"])),mounted:function(){var t=Object(U["a"])(document.getElementById(this.st),{});t.applyOptions({layout:{textColor:"#007bff",backgroundColor:"black"},grid:{vertLines:{color:"gray"},horzLines:{color:"gray"}},crosshair:{vertLine:{color:"#ffffff"},horzLine:{color:"#ffffff"}}}),this.lineSeries=t.addLineSeries()},methods:{add_Data:function(t){t["ticker"]===this.st&&this.lineSeries.update({time:t["time"],value:t["value"]})}},watch:{dataUpdate:function(){var t=this;this.dataUpdate.forEach((function(a){t.inserted.has(a["ticker"]+a["time"]+"")||(t.add_Data(a),t.inserted.add(a["ticker"]+a["time"]+""))}))}}},L=B,$=(e("e3e9"),Object(v["a"])(L,P,T,!1,null,null,null)),M=$.exports,H={name:"Stock",components:{Chart:M},computed:Object(s["a"])({},Object(r["c"])(["conectado","stocks","dataStocks",""])),methods:Object(s["a"])({},Object(r["b"])(["desconectar","getExchanges","getStocks","getBuys","getSells","getUpdates"]))},V=H,A=Object(v["a"])(V,C,w,!1,null,null,null),D=A.exports,N={name:"App",components:{Head:f,Navbar:k,Exchange:g,Stock:D},computed:Object(s["a"])({},Object(r["c"])(["conectado","dataEx"])),methods:Object(s["a"])({},Object(r["b"])(["desconectar","getExchanges","getStocks","getBuys","getSells","getUpdates"]))},z=N,F=(e("034f"),Object(v["a"])(z,n,o,!1,null,null,null)),G=F.exports,I=(e("caad"),e("b0c0"),e("4ec9"),e("b680"),e("b64b"),e("2532"),e("8055")),J=e.n(I),K=J()("wss://​le-18262636.bitzonte.com",{path:"/stocks"});c["a"].use(r["a"]);var X=new r["a"].Store({state:{conectado:"Conectar",ex:[],dataEx:{},stocks:[],dataStocks:{},dataUpdate:[],dataBuy:new Map,dataSell:new Map},mutations:{conectar:function(t){"Desconectar"===t.conectado?(K.disconnect(),t.conectado="Conectar"):(K.connect(),t.conectado="Desconectar",K.on("BUY",(function(a){var e=a;t.dataBuy.has(a["ticker"])?t.dataBuy.get(a["ticker"]).push({volume:a["volume"],time:a["time"]}):t.dataBuy.set(a["ticker"],[{volume:a["volume"],time:a["time"]}]),Q(e,t)})),K.on("SELL",(function(a){var e=a;t.dataSell.has(a["ticker"])?t.dataSell.get(a["ticker"]).push({volume:a["volume"],time:a["time"]}):t.dataSell.set(a["ticker"],[{volume:a["volume"],time:a["time"]}]),R(e,t)})),K.on("UPDATE",(function(a){var e=a;t.dataUpdate.push(e),q(t.dataStocks[e["ticker"]],e["value"])})))},append_stocks:function(t,a){t.dataStocks=a["1"],t.stocks=a["2"]},append_ex:function(t,a){t.dataEx=a["1"],t.ex=a["2"]}},actions:{},modules:{}}),Y=X;K.emit("EXCHANGES"),K.once("EXCHANGES",(function(t){var a={},e=Object.keys(t);e.forEach((function(e){a[e]={v_compra:0,v_venta:0,v_total:0,porcentaje:0,address:t[e]["address"],country:t[e]["country"],companies:t[e]["listed_companies"],name:t[e]["name"]}}));var c={1:a,2:e};X.commit("append_ex",c)})),K.emit("STOCKS"),K.once("STOCKS",(function(t){var a=[],e={};for(var c in t)a.push(t[c]["ticker"]),e[t[c]["ticker"]]={company:t[c]["company_name"],country:t[c]["country"],v_alto:0,v_actual:0,v_bajo:1e24,variacion:0,v_compra:0,v_venta:0};var n={1:e,2:a};X.commit("append_stocks",n),X.commit("conectar")}));var q=function(t,a){t["v_alto"]<=a&&(t["v_alto"]=a),t["v_bajo"]>=a&&(t["v_bajo"]=a),t["variacion"]=(100*(t["v_actual"]-a)/t["v_actual"]).toFixed(1),t["v_actual"]=a},Q=function(t,a){var e=0;a.dataStocks[t["ticker"]]["v_compra"]+=t["volume"],Object.keys(a.dataEx).forEach((function(c){a.dataEx[c]["companies"].includes(a.dataStocks[t["ticker"]]["company"])&&(a.dataEx[c]["v_compra"]+=t["volume"],a.dataEx[c]["v_total"]+=t["volume"]),e+=a.dataEx[c]["v_total"]})),Object.keys(a.dataEx).forEach((function(t){a.dataEx[t]["porcentaje"]=(100*(e-a.dataEx[t]["v_total"])/e).toFixed(1)}))},R=function(t,a){var e=0;a.dataStocks[t["ticker"]]["v_venta"]+=t["volume"],Object.keys(a.dataEx).forEach((function(c){a.dataEx[c]["companies"].includes(a.dataStocks[t["ticker"]]["company"])&&(a.dataEx[c]["v_venta"]+=t["volume"],a.dataEx[c]["v_total"]+=t["volume"]),e+=a.dataEx[c]["v_total"]})),Object.keys(a.dataEx).forEach((function(t){a.dataEx[t]["porcentaje"]=(100*(e-a.dataEx[t]["v_total"])/e).toFixed(1)}))};c["a"].config.productionTip=!1,new c["a"]({store:Y,render:function(t){return t(G)}}).$mount("#app")},"85ec":function(t,a,e){},a0dc:function(t,a,e){},e3e9:function(t,a,e){"use strict";var c=e("a0dc"),n=e.n(c);n.a}});
//# sourceMappingURL=app.689cb7c3.js.map